#pragma checksum "C:\Users\david.correia\source\repos\WebApplication1\WebApplication1\Pages\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "296a6cc5d882781cc8b55b884a961e4b59825a77"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(WebApplication1.Pages.Pages_Index), @"mvc.1.0.razor-page", @"/Pages/Index.cshtml")]
namespace WebApplication1.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\david.correia\source\repos\WebApplication1\WebApplication1\Pages\_ViewImports.cshtml"
using WebApplication1;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"296a6cc5d882781cc8b55b884a961e4b59825a77", @"/Pages/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"cd66e6c0b2d0593b97c0d67f6f506054866fe040", @"/Pages/_ViewImports.cshtml")]
    public class Pages_Index : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "C:\Users\david.correia\source\repos\WebApplication1\WebApplication1\Pages\Index.cshtml"
  
    ViewData["Title"] = "Home page";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""text-center"">
    <div class=""box-chat"">
        <div id=""msgs""></div>
    </div>

    <div class=""input-message-chat"">
        <textarea class=""form-control"" id=""message"" rows=""3"" style=""width: 89%;float: left;""></textarea>
        <button type=""button"" id=""sendMessage"" class=""btn btn-primary"" style=""float: right;height: 85px;width: 10%;"">Enviar</button>
");
            WriteLiteral("    </div>\r\n</div>\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral("\r\n    <script>\r\n        var clientID;\r\n    $(function () {\r\n        //var userName = \'");
#nullable restore
#line 23 "C:\Users\david.correia\source\repos\WebApplication1\WebApplication1\Pages\Index.cshtml"
                     Write(Model);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"';

        var protocol = location.protocol === ""https:"" ? ""wss:"" : ""ws:"";
        var wsUri = protocol + ""//"" + window.location.host;
        var socket = new WebSocket(wsUri);
        socket.onopen = e => {
            console.log(""socket opened"", e);
        };

        socket.onclose = function (e) {
            console.log(""socket closed"", e);
        };

        socket.onmessage = function (e) {
            console.log(e);
            var data = e.data;
            var obj = JSON.parse(data);
            $('#msgs').append('<span class=""msgSpan"">' + obj.Text.replace(obj.username, ""voce"") + '</span>');
        };

        socket.onerror = function (e) {
            console.error(e.data);
        };

        $(""#sendMessage"").click(function () {
            sendText(socket);
        });
    });


        function sendText(socket) {
            var mensagem = $.trim($(""#message"").val());
            var arr = mensagem.split("" "");
            if (arr[0] == ""/help"") {
      ");
                WriteLiteral(@"          $('#msgs').append('<span class=""msgSpan"">/registe nickname => registrar um usuario</span>');
                $('#msgs').append('<span class=""msgSpan"">/channel #nomeCanal => muda de sala de bate papo</span>');
                $('#msgs').append('<span class=""msgSpan"">");
                WriteLiteral("@usuario mensagem => envia uma mensagem publica para o usuario</span>\');\r\n                $(\'#msgs\').append(\'<span class=\"msgSpan\">");
                WriteLiteral(@"@usuario private mensagem => envia uma mensagem privada para o usuario</span>');
                $('#msgs').append('<span class=""msgSpan"">/exit => sair do bate papo</span>');
                $(""#message"").val("""");
                return;
            }
            if (arr[0] == ""/register"")
                clientID = arr[1].trim();

            var msg = {
                text: $.trim($(""#message"").val()),
                username: clientID,
                recipient: """",
                private:false,
                date: Date.now()
            };
            socket.send(JSON.stringify(msg));
            $(""#message"").val("""");
    }
    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IndexModel> Html { get; private set; }
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<IndexModel> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<IndexModel>)PageContext?.ViewData;
        public IndexModel Model => ViewData.Model;
    }
}
#pragma warning restore 1591
